package org.opentestsystem.ap.imrt.iss.dto;

import org.junit.Before;
import org.junit.Test;
import org.opentestsystem.ap.imrt.common.model.ImrtItem;
import org.opentestsystem.ap.imrt.common.model.StandardId;
import org.opentestsystem.ap.imrt.common.model.StandardIdKey;

import static org.assertj.core.api.Assertions.assertThat;

public class StandardIdDtoMapperTest {
    private StandardIdDtoMapper mapper;

    @Before
    public void setUp() {
        mapper = new StandardIdDtoMapper();
    }

    @Test
    public void shouldMapStandardId() {
        ImrtItem imrtItem = new ImrtItem();
        imrtItem.setId("anId");
        StandardId standardId = new StandardId.StandardIdBuilder()
                .withStandardIdKey(new StandardIdKey(imrtItem, 1))
                .withCommonCoreStandard("common")
                .withClaim("1")
                .withContentDomain("contentDomain")
                .withEmphasis("emp")
                .withTarget("target")
                .build();

        StandardIdDto dto = mapper.map(standardId);

        assertThat(dto.getClaim()).isEqualTo("1");
        assertThat(dto.getCommonCoreStandard()).isEqualTo("common");
        assertThat(dto.getContentDomain()).isEqualTo("contentDomain");
        assertThat(dto.getTarget()).isEqualTo("target");
        assertThat(dto.getItemId()).isEqualTo("anId");
        assertThat(dto.getType()).isEqualTo(StandardIdType.PRIMARY);
    }
}