package org.opentestsystem.ap.imrt.iss.model;

import org.junit.Test;

import java.util.Collections;

import static org.assertj.core.api.Assertions.assertThat;
import static org.opentestsystem.ap.imrt.iss.dto.search.SearchFields.STIMULUS_ID;

public class IdMatchSearchFilterTest {
    @Test
    public void shouldBeValidWithValidIntegerIds() {
        IdMatchSearchFilter filter = new IdMatchSearchFilter(STIMULUS_ID, Collections.singletonList("123"));
        assertThat(filter.isValid()).isTrue();
        assertThat(filter.isEmpty()).isFalse();
    }

    @Test
    public void shouldBeValidWithInvalidIdsAndIncludeBlanks() {
        IdMatchSearchFilter filter = new IdMatchSearchFilter(STIMULUS_ID, Collections.singletonList("123ABC"), true);
        assertThat(filter.isValid()).isTrue();
        assertThat(filter.isEmpty()).isFalse();
    }

    @Test
    public void shouldBeValidWithValidIdsAndIncludeBlanks() {
        IdMatchSearchFilter filter = new IdMatchSearchFilter(STIMULUS_ID, Collections.singletonList("123"), true);
        assertThat(filter.isValid()).isTrue();
        assertThat(filter.isEmpty()).isFalse();
    }

    @Test
    public void shouldBeInvalidWithInvalidIds() {
        IdMatchSearchFilter filter = new IdMatchSearchFilter(STIMULUS_ID, Collections.singletonList("123ABC"));
        assertThat(filter.isValid()).isFalse();
        assertThat(filter.isEmpty()).isFalse();
    }

    @Test
    public void shouldBeInvalidWithBlank() {
        IdMatchSearchFilter filter = new IdMatchSearchFilter(STIMULUS_ID, Collections.singletonList(""));
        assertThat(filter.isValid()).isTrue();
        assertThat(filter.isEmpty()).isFalse();
    }
}