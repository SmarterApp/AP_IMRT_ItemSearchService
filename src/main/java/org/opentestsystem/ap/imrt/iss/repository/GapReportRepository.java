package org.opentestsystem.ap.imrt.iss.repository;

import org.opentestsystem.ap.imrt.iss.dto.search.SearchProperty;
import org.opentestsystem.ap.imrt.iss.model.SearchFilter;
import org.opentestsystem.ap.imrt.iss.model.SearchPermissions;

import java.util.Collection;
import java.util.List;
import java.util.Map;

/**
 * An interface for interacting with data retrieval for the Gap Report.
 */
public interface GapReportRepository {
    /**
     * Get the Gap Report data.
     *
     * @param searchFilters The collection of {@link org.opentestsystem.ap.imrt.iss.model.SearchFilter}s supplied by the
     *                      user.  These narrow down the number of items that are counted.
     * @param groups The collection of {@link org.opentestsystem.ap.imrt.iss.dto.search.SearchProperty}s supplied by the
     *               user.  These dictate how the difficulty quintile counts are grouped.
     * @return A collection of {@link Map}s, where the key is the name of the column in the result set and the value is
     * the data for that column.  Each {@link java.util.Map} in the result is a row from the database.
     */
    List<Map<String, Object>> getGapReport(final SearchPermissions searchPermissions,
                                           final Collection<SearchFilter> searchFilters,
                                           final Collection<SearchProperty> groups);
}
