package org.opentestsystem.ap.imrt.iss.dto.search;

import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonProperty;

/**
 * A filter that will match keyword searches.
 */
public class KeywordFilter extends Filter {
    private static final String TYPE = "keyword";
    private final boolean caseSensitive;
    private final String value;

    @JsonCreator
    public KeywordFilter(@JsonProperty("property") final String property,
                         @JsonProperty(value = "idCaseSensitive", defaultValue = "false") final boolean caseSensitive,
                         @JsonProperty("value") final String value) {
        super(property, false);
        this.caseSensitive = caseSensitive;
        this.value = value;
    }

    @Override
    public String getType() {
        return TYPE;
    }

    public boolean isCaseSensitive() {
        return caseSensitive;
    }

    public String getValue() {
        return value;
    }

    @Override
    public String toString() {
        return String.format("KeywordFilter{property='%s', search string=%s, caseSensitive=%s}",
                getSearchProperty(), getValue(), isCaseSensitive() ? "true" : "false");
    }
}