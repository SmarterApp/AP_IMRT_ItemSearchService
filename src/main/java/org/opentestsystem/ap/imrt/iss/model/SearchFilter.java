package org.opentestsystem.ap.imrt.iss.model;

import org.opentestsystem.ap.imrt.iss.dto.search.SearchProperty;

import java.util.Optional;

/**
 * Fitler for search filtering on items
 */
public interface SearchFilter {
    /**
     * @return {@link true} if the values contained in the filter are valid
     */
    boolean containsValidFilterValues();

    /**
     * @return the {@link SearchProperty} which is being filtered
     */
    SearchProperty getFilterProperty();

    /**
     * Handles creating the {@link FilterQuery}.  Due to clients (IAT) needing to send empty filter values and allow users
     * to enter invalid values the FilterQuery can be empty.  This means that the filter is invalid within IMRT and
     * should be ignored.
     *
     * @return the {@link FilterQuery} if it can be created otherwise empty
     */
    Optional<FilterQuery> getFilterQuery(SearchPermissions searchPermissions);

    /**
     * @return {@code true} if the filter does not have any valid filter values
     */
    boolean isEmpty();
}
