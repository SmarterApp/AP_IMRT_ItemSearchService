package org.opentestsystem.ap.imrt.iss.repository;

import org.opentestsystem.ap.common.imrt.model.BaseItem;
import org.springframework.data.jpa.domain.Specification;

import java.util.Map;

/**
 * Queries for counts on a {@link BaseItem}
 */
public interface ItemSearchGroupAndCountRepository {
    /**
     * Get the filtered item counts grouped by a specific property
     *
     * @param property the property to group counts
     * @param where    the specifications to filter
     * @return a map of values and the counts associated with those values
     */
    Map<String, Long> getGroupCounts(final String property, final Specification<BaseItem> where);

    /**
     * Get the item counts grouped by a specific property
     *
     * @param property the property to group counts
     * @return a map of values and the counts associated with those values
     */
    Map<String, Long> getGroupCounts(final String property);
}
